{"version":3,"file":"build-helper.js","sourceRoot":"","sources":["../../../../extensionmanager/src/build-helper.tsx"],"names":[],"mappings":";AAAA,0CAA0C;AAC1C,2DAA2D;;;;;;;;;AAE3D,mDAA0D;AAI1D,6CAA+B;AAE/B;;;;GAIG;AACH,iBAAwB,OAAyB;IAC/C,IAAI,OAAO,CAAC,WAAW,EAAE;QACvB,OAAO,OAAO;aACX,KAAK,EAAE;aACP,IAAI,CAAC,GAAG,EAAE;YACT,OAAO,qBAAU,CAAC;gBAChB,KAAK,EAAE,gBAAgB;gBACvB,IAAI,EAAE,4CAA4C;gBAClD,OAAO,EAAE;oBACP,iBAAM,CAAC,YAAY,EAAE;oBACrB,iBAAM,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC;iBACvC;aACF,CAAC,CAAC;QACL,CAAC,CAAC;aACD,IAAI,CAAC,MAAM,CAAC,EAAE;YACb,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;gBACxB,QAAQ,CAAC,MAAM,EAAE,CAAC;aACnB;QACH,CAAC,CAAC;aACD,KAAK,CAAC,GAAG,CAAC,EAAE;YACX,qBAAU,CAAC;gBACT,KAAK,EAAE,cAAc;gBACrB,IAAI,EAAE,iCAAM,GAAG,CAAC,OAAO,CAAO;aAC/B,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;KACN;IACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;AAC3B,CAAC;AA3BD,0BA2BC","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport { Dialog, showDialog } from '@jupyterlab/apputils';\n\nimport { Builder } from '@jupyterlab/services';\n\nimport * as React from 'react';\n\n/**\n * Instruct the server to perform a build\n *\n * @param builder the build manager\n */\nexport function doBuild(builder: Builder.IManager): Promise<void> {\n  if (builder.isAvailable) {\n    return builder\n      .build()\n      .then(() => {\n        return showDialog({\n          title: 'Build Complete',\n          body: 'Build successfully completed, reload page?',\n          buttons: [\n            Dialog.cancelButton(),\n            Dialog.warnButton({ label: 'RELOAD' })\n          ]\n        });\n      })\n      .then(result => {\n        if (result.button.accept) {\n          location.reload();\n        }\n      })\n      .catch(err => {\n        showDialog({\n          title: 'Build Failed',\n          body: <pre>{err.message}</pre>\n        });\n      });\n  }\n  return Promise.resolve();\n}\n"]}