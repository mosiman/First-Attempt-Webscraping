{"version":3,"file":"redirect.js","sourceRoot":"","sources":["../../../../apputils-extension/src/redirect.ts"],"names":[],"mappings":";AAAA;;;+EAG+E;;AAE/E,+CAA2C;AAE3C;;GAEG;AACH,MAAM,KAAK,GAAG;uCACyB,CAAC;AAExC;;GAEG;AACH,MAAM,WAAW,GAAG,6BAA6B,CAAC;AAElD;;GAEG;AACH,MAAM,OAAO,GAAG,uBAAuB,CAAC;AAExC;;GAEG;AACH,kBAA0B,SAAQ,gBAAM;IACtC;;OAEG;IACH;QACE,KAAK,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IACxC,CAAC;IAED;;OAEG;IACH,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC;IAC3D,CAAC;IACD,IAAI,KAAK,CAAC,KAAa;QACrB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,WAAW,GAAG,KAAK,CAAC;IAC5D,CAAC;IAED;;OAEG;IACH,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC;IACtD,CAAC;IACD,IAAI,WAAW,CAAC,WAAmB;QACjC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,WAAW,GAAG,WAAW,CAAC;IAC7D,CAAC;IAED;;OAEG;IACH,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC,WAAW,CAAC;IACzE,CAAC;IACD,IAAI,OAAO,CAAC,OAAe;QACzB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC,WAAW,GAAG,OAAO,CAAC;IAC5E,CAAC;IAED;;OAEG;IACH,QAAQ;QACN,OAAO,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;CACF;AA5CD,oCA4CC;AAED;;GAEG;AACH,4BAAmC,IAAI,GAAG,KAAK;IAC7C,MAAM,IAAI,GAAG,IAAI,YAAY,EAAE,CAAC;IAEhC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;IAEnC,OAAO,IAAI,CAAC;AACd,CAAC;AARD,gDAQC;AAED;;GAEG;AACH,IAAU,OAAO,CAqBhB;AArBD,WAAU,OAAO;IACf;;OAEG;IACH;QACE,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE9C,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC;QACnC,OAAO,CAAC,SAAS,GAAG,yBAAyB,CAAC;QAE9C,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACxB,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAE1B,OAAO,IAAI,CAAC;IACd,CAAC;IAhBe,kBAAU,aAgBzB,CAAA;AACH,CAAC,EArBS,OAAO,KAAP,OAAO,QAqBhB","sourcesContent":["/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\nimport { Widget } from '@phosphor/widgets';\n\n/**\n * The form label.\n */\nconst LABEL = `This workspace is already in use in another JupyterLab window.\n  Please enter another workspace name.`;\n\n/**\n * The form input field placeholder.\n */\nconst PLACEHOLDER = 'url-friendly-workspace-name';\n\n/**\n * The form warning message if an empty value was submitted.\n */\nconst WARNING = 'Please enter a value.';\n\n/**\n * The UI for the recovery option to redirect to a different workspace.\n */\nexport class RedirectForm extends Widget {\n  /**\n   * Create a redirect form.\n   */\n  constructor() {\n    super({ node: Private.createNode() });\n  }\n\n  /**\n   * The text label of the form.\n   */\n  get label(): string {\n    return this.node.querySelector('label span').textContent;\n  }\n  set label(label: string) {\n    this.node.querySelector('label span').textContent = label;\n  }\n\n  /**\n   * The input placeholder.\n   */\n  get placeholder(): string {\n    return this.node.querySelector('input').placeholder;\n  }\n  set placeholder(placeholder: string) {\n    this.node.querySelector('input').placeholder = placeholder;\n  }\n\n  /**\n   * The warning message.\n   */\n  get warning(): string {\n    return this.node.querySelector('.jp-RedirectForm-warning').textContent;\n  }\n  set warning(warning: string) {\n    this.node.querySelector('.jp-RedirectForm-warning').textContent = warning;\n  }\n\n  /**\n   * Returns the input value.\n   */\n  getValue(): string {\n    return encodeURIComponent(this.node.querySelector('input').value);\n  }\n}\n\n/**\n * Return a new redirect form, populated with default language.\n */\nexport function createRedirectForm(warn = false): RedirectForm {\n  const form = new RedirectForm();\n\n  form.label = LABEL;\n  form.placeholder = PLACEHOLDER;\n  form.warning = warn ? WARNING : '';\n\n  return form;\n}\n\n/**\n * A namespace for private module data.\n */\nnamespace Private {\n  /**\n   * Create the redirect form's content.\n   */\n  export function createNode(): HTMLElement {\n    const node = document.createElement('div');\n    const label = document.createElement('label');\n    const input = document.createElement('input');\n    const text = document.createElement('span');\n    const warning = document.createElement('div');\n\n    node.className = 'jp-RedirectForm';\n    warning.className = 'jp-RedirectForm-warning';\n\n    label.appendChild(text);\n    label.appendChild(input);\n    node.appendChild(label);\n    node.appendChild(warning);\n\n    return node;\n  }\n}\n"]}