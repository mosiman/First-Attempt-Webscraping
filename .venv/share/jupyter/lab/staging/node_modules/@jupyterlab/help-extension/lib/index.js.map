{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../help-extension/src/index.tsx"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n\nimport {\n  ILayoutRestorer,\n  JupyterLab,\n  JupyterLabPlugin\n} from '@jupyterlab/application';\n\nimport {\n  Dialog,\n  ICommandPalette,\n  IFrame,\n  InstanceTracker,\n  MainAreaWidget,\n  showDialog\n} from '@jupyterlab/apputils';\n\nimport { PageConfig, URLExt } from '@jupyterlab/coreutils';\n\nimport { IMainMenu } from '@jupyterlab/mainmenu';\n\nimport { KernelMessage } from '@jupyterlab/services';\n\nimport { Menu } from '@phosphor/widgets';\n\nimport * as React from 'react';\n\nimport '../style/index.css';\n\n/**\n * The command IDs used by the help plugin.\n */\nnamespace CommandIDs {\n  export const open = 'help:open';\n\n  export const about = 'help:about';\n\n  export const activate = 'help:activate';\n\n  export const close = 'help:close';\n\n  export const show = 'help:show';\n\n  export const hide = 'help:hide';\n\n  export const toggle = 'help:toggle';\n\n  export const launchClassic = 'help:launch-classic-notebook';\n}\n\n/**\n * A flag denoting whether the application is loaded over HTTPS.\n */\nconst LAB_IS_SECURE = window.location.protocol === 'https:';\n\n/**\n * The class name added to the help widget.\n */\nconst HELP_CLASS = 'jp-Help';\n\n/**\n * A list of help resources.\n */\n\nconst RESOURCES = [\n  {\n    text: 'JupyterLab Reference',\n    url: 'https://jupyterlab.readthedocs.io/en/stable/'\n  },\n  {\n    text: 'Notebook Reference',\n    url: 'https://jupyter-notebook.readthedocs.io/en/latest/'\n  },\n  {\n    text: 'Markdown Reference',\n    url:\n      'https://help.github.com/articles/' +\n      'getting-started-with-writing-and-formatting-on-github/'\n  }\n];\n\nRESOURCES.sort((a: any, b: any) => {\n  return a.text.localeCompare(b.text);\n});\n\n/**\n * The help handler extension.\n */\nconst plugin: JupyterLabPlugin<void> = {\n  activate,\n  id: '@jupyterlab/help-extension:plugin',\n  requires: [IMainMenu, ICommandPalette, ILayoutRestorer],\n  autoStart: true\n};\n\n/**\n * Export the plugin as default.\n */\nexport default plugin;\n\n/**\n * Activate the help handler extension.\n *\n * @param app - The phosphide application object.\n *\n * returns A promise that resolves when the extension is activated.\n */\nfunction activate(\n  app: JupyterLab,\n  mainMenu: IMainMenu,\n  palette: ICommandPalette,\n  restorer: ILayoutRestorer\n): void {\n  let counter = 0;\n  const category = 'Help';\n  const namespace = 'help-doc';\n  const baseUrl = PageConfig.getBaseUrl();\n  const { commands, shell, info, serviceManager } = app;\n  const tracker = new InstanceTracker<MainAreaWidget>({ namespace });\n\n  // Handle state restoration.\n  restorer.restore(tracker, {\n    command: CommandIDs.open,\n    args: widget => ({\n      url: widget.content.url,\n      text: widget.content.title.label\n    }),\n    name: widget => widget.content.url\n  });\n\n  /**\n   * Create a new HelpWidget widget.\n   */\n  function newHelpWidget(url: string, text: string): MainAreaWidget {\n    let content = new IFrame();\n    content.url = url;\n    content.addClass(HELP_CLASS);\n    content.title.label = text;\n    content.id = `${namespace}-${++counter}`;\n    let widget = new MainAreaWidget({ content });\n    widget.addClass('jp-Help');\n    return widget;\n  }\n\n  // Populate the Help menu.\n  const helpMenu = mainMenu.helpMenu;\n  const labGroup = [\n    CommandIDs.about,\n    'faq-jupyterlab:open',\n    CommandIDs.launchClassic\n  ].map(command => {\n    return { command };\n  });\n  helpMenu.addGroup(labGroup, 0);\n  const resourcesGroup = RESOURCES.map(args => ({\n    args,\n    command: CommandIDs.open\n  }));\n  helpMenu.addGroup(resourcesGroup, 10);\n\n  // Generate a cache of the kernel help links.\n  const kernelInfoCache = new Map<string, KernelMessage.IInfoReply>();\n  serviceManager.sessions.runningChanged.connect((m, sessions) => {\n    // If a new session has been added, it is at the back\n    // of the session list. If one has changed or stopped,\n    // it does not hurt to check it.\n    if (!sessions.length) {\n      return;\n    }\n    const sessionModel = sessions[sessions.length - 1];\n    if (kernelInfoCache.has(sessionModel.kernel.name)) {\n      return;\n    }\n    const session = serviceManager.sessions.connectTo(sessionModel);\n    session.kernel.ready.then(() => {\n      // Check the cache second time so that, if two callbacks get scheduled,\n      // they don't try to add the same commands.\n      if (kernelInfoCache.has(sessionModel.kernel.name)) {\n        return;\n      }\n      // Set the Kernel Info cache.\n      const name = session.kernel.name;\n      const kernelInfo = session.kernel.info;\n      kernelInfoCache.set(name, kernelInfo);\n\n      // Utility function to check if the current widget\n      // has registered itself with the help menu.\n      const usesKernel = () => {\n        let result = false;\n        const widget = app.shell.currentWidget;\n        if (!widget) {\n          return result;\n        }\n        helpMenu.kernelUsers.forEach(u => {\n          if (\n            u.tracker.has(widget) &&\n            u.getKernel(widget) &&\n            u.getKernel(widget).name === name\n          ) {\n            result = true;\n          }\n        });\n        return result;\n      };\n\n      // Add the kernel banner to the Help Menu.\n      const bannerCommand = `help-menu-${name}:banner`;\n      const spec = serviceManager.specs.kernelspecs[name];\n      const kernelName = spec.display_name;\n      let kernelIconUrl = spec.resources['logo-64x64'];\n      if (kernelIconUrl) {\n        let index = kernelIconUrl.indexOf('kernelspecs');\n        kernelIconUrl = baseUrl + kernelIconUrl.slice(index);\n      }\n      commands.addCommand(bannerCommand, {\n        label: `About the ${kernelName} Kernel`,\n        isVisible: usesKernel,\n        isEnabled: usesKernel,\n        execute: () => {\n          // Create the header of the about dialog\n          let headerLogo = <img src={kernelIconUrl} />;\n          let title = (\n            <span className=\"jp-About-header\">\n              {headerLogo}\n              <div className=\"jp-About-header-info\">{kernelName}</div>\n            </span>\n          );\n          const banner = <pre>{kernelInfo.banner}</pre>;\n          let body = <div className=\"jp-About-body\">{banner}</div>;\n\n          showDialog({\n            title,\n            body,\n            buttons: [\n              Dialog.createButton({\n                label: 'DISMISS',\n                className: 'jp-About-button jp-mod-reject jp-mod-styled'\n              })\n            ]\n          });\n        }\n      });\n      helpMenu.addGroup([{ command: bannerCommand }], 20);\n\n      // Add the kernel info help_links to the Help menu.\n      const kernelGroup: Menu.IItemOptions[] = [];\n      (session.kernel.info.help_links || []).forEach(link => {\n        const commandId = `help-menu-${name}:${link.text}`;\n        commands.addCommand(commandId, {\n          label: link.text,\n          isVisible: usesKernel,\n          isEnabled: usesKernel,\n          execute: () => {\n            commands.execute(CommandIDs.open, link);\n          }\n        });\n        kernelGroup.push({ command: commandId });\n      });\n      helpMenu.addGroup(kernelGroup, 21);\n\n      // Dispose of the session object since we no longer need it.\n      session.dispose();\n    });\n  });\n\n  commands.addCommand(CommandIDs.about, {\n    label: `About ${info.name}`,\n    execute: () => {\n      // Create the header of the about dialog\n      let headerLogo = <div className=\"jp-About-header-logo\" />;\n      let headerWordmark = <div className=\"jp-About-header-wordmark\" />;\n      let versionNumber = `Version ${info.version}`;\n      let versionInfo = (\n        <span className=\"jp-About-version-info\">\n          <span className=\"jp-About-version\">{versionNumber}</span>\n        </span>\n      );\n      let title = (\n        <span className=\"jp-About-header\">\n          {headerLogo}\n          <div className=\"jp-About-header-info\">\n            {headerWordmark}\n            {versionInfo}\n          </div>\n        </span>\n      );\n\n      // Create the body of the about dialog\n      let jupyterURL = 'https://jupyter.org/about.html';\n      let contributorsURL =\n        'https://github.com/jupyterlab/jupyterlab/graphs/contributors';\n      let externalLinks = (\n        <span className=\"jp-About-externalLinks\">\n          <a href={contributorsURL} target=\"_blank\" className=\"jp-Button-flat\">\n            CONTRIBUTOR LIST\n          </a>\n          <a href={jupyterURL} target=\"_blank\" className=\"jp-Button-flat\">\n            ABOUT PROJECT JUPYTER\n          </a>\n        </span>\n      );\n      let copyright = (\n        <span className=\"jp-About-copyright\">\n          © 2015 Project Jupyter Contributors\n        </span>\n      );\n      let body = (\n        <div className=\"jp-About-body\">\n          {externalLinks}\n          {copyright}\n        </div>\n      );\n\n      showDialog({\n        title,\n        body,\n        buttons: [\n          Dialog.createButton({\n            label: 'DISMISS',\n            className: 'jp-About-button jp-mod-reject jp-mod-styled'\n          })\n        ]\n      });\n    }\n  });\n\n  commands.addCommand(CommandIDs.open, {\n    label: args => args['text'] as string,\n    execute: args => {\n      const url = args['url'] as string;\n      const text = args['text'] as string;\n\n      // If help resource will generate a mixed content error, load externally.\n      if (LAB_IS_SECURE && URLExt.parse(url).protocol !== 'https:') {\n        window.open(url);\n        return;\n      }\n\n      let widget = newHelpWidget(url, text);\n      tracker.add(widget);\n      shell.addToMainArea(widget);\n    }\n  });\n\n  commands.addCommand(CommandIDs.launchClassic, {\n    label: 'Launch Classic Notebook',\n    execute: () => {\n      window.open(PageConfig.getBaseUrl() + 'tree');\n    }\n  });\n\n  RESOURCES.forEach(args => {\n    palette.addItem({ args, command: CommandIDs.open, category });\n  });\n  palette.addItem({ command: 'apputils:reset', category });\n  palette.addItem({ command: CommandIDs.launchClassic, category });\n}\n"]}